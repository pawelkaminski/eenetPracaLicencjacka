%
% Niniejszy plik stanowi przyk³ad formatowania pracy magisterskiej na
% Wydziale MIM UW.  Szkielet u¿ytych poleceñ mo¿na wykorzystywaæ do
% woli, np. formatujac wlasna prace.
%
% Zawartosc merytoryczna stanowi oryginalnosiagniecie
% naukowosciowe Marcina Wolinskiego.  Wszelkie prawa zastrze¿one.
%
% Copyright (c) 2001 by Marcin Woliñski <M.Wolinski@gust.org.pl>
% Poprawki spowodowane zmianami przepisów - Marcin Szczuka, 1.10.2004
% Poprawki spowodowane zmianami przepisow i ujednolicenie 
% - Seweryn Kar³owicz, 05.05.2006
% dodaj opcjê [licencjacka] dla pracy licencjackiej
\documentclass[licencjacka]{pracamgr}

\usepackage{polski}
\usepackage{hyperref}

%Jesli uzywasz kodowania polskich znakow ISO-8859-2 nastepna linia powinna byc 
%odkomentowana
\usepackage[latin2]{inputenc}
%Jesli uzywasz kodowania polskich znakow CP-1250 to ta linia powinna byc 
%odkomentowana
%\usepackage[cp1250]{inputenc}

% Dane magistranta:

\author{Patryk Hes, Pawe³ Kamiñski, Borys Pop³awski, Robert Tomkowski}

\nralbumu{320327, 320408, 320372, 321179}

\title{Zr±b do aplikacji usprawniaj±cych pracê biurow±}

\tytulang{Framework for application improving office work}

%kierunek: Matematyka, Informatyka, ...
\kierunek{Informatyka}

% informatyka - nie okreslamy zakresu (opcja zakomentowana)
% matematyka - zakres moze pozostac nieokreslony,
% a jesli ma byc okreslony dla pracy mgr,
% to przyjmuje jedna z wartosci:
% {metod matematycznych w finansach}
% {metod matematycznych w ubezpieczeniach}
% {matematyki stosowanej}
% {nauczania matematyki}
% Dla pracy licencjackiej mamy natomiast
% mozliwosc wpisania takiej wartosci zakresu:
% {Jednoczesnych Studiow Ekonomiczno--Matematycznych}

% \zakres{Tu wpisac, jesli trzeba, jedna z opcji podanych wyzej}

% Praca wykonana pod kierunkiem:
% (podaæ tytu³/stopieñ imiê i nazwisko opiekuna
% Instytut
% ew. Wydzia³ ew. Uczelnia (je¿eli nie MIM UW))
\opiekun{dra Janusza Jab³onowskiego\\
  }

% miesi±c i~rok:
\date{Czerwiec 2014}

%Podaæ dziedzinê wg klasyfikacji Socrates-Erasmus:
\dziedzina{ 
%11.0 Matematyka, Informatyka:\\ 
%11.1 Matematyka\\ 
%11.2 Statystyka\\ 
11.3 Informatyka\\ 
}

%Klasyfikacja tematyczna wedlug AMS (matematyka) lub ACM (informatyka)
%TODO ZALEZY Z KTOREGO ROKU!!!!
% http://www.acm.org/about/class/ccs98-html
% http://dl.acm.org/ccs_flat.cfm#toc
\klasyfikacja{Information systems\\
  World Wide Web\\  
  Web services\\
  RESTful web services}


% S³owa kluczowe:
\keywords{zr±b, REST, WWW}%fa

% Tu jest dobre miejsce na Twoje w³asne makra i~¶rodowiska:
\newtheorem{defi}{Definicja}[section]

% koniec definicji

\begin{document}
\maketitle

%tu idzie streszczenie na strone poczatkowa
\begin{abstract}

\end{abstract}

\tableofcontents
%\listoffigures
%\listoftables


%TODO Robert/Pawe³ ~to chyba ma byæ krótkie natomiast sam pomys³ mo¿esz 
\chapter*{Wprowadzenie}
\addcontentsline{toc}{chapter}{Wprowadzenie}

Blabalizator ró¿nicowy jest podstawowym narzêdziem blabalii
fetorycznej.  Dlatego naukowcy z~ca³ego ¶wiata prze¶cigaj± siê
w~próbach efektywnej implementacji.  Opracowana przez prof. Fifaka
teoria fetorów $\sigma$-$\rho$ otwiera w~tej dziedzinie nowe
mo¿liwo¶ci.  Wykorzystujemy je w~niniejszej pracy.

Przystêpne wprowadzenie do blabalii fetorycznej mo¿na znale¼æ w~pracy
Fifaka i~Gryzogrzechotalskiego \cite{ffgg}.  Dlatego w~niniejszym
tek¶cie ograniczymy siê do przypomnienia pojêæ podstawowych.

Praca sk³ada siê z~piêciu rozdzia³ów i~dodatków.
W~rozdziale~\ref{r:pojecia} przypomniano podstawowe pojêcia blabalii
fetorycznej.  Dotychczasowe próby implementacji blablizatora
ró¿nicowego zestawiono w~rozdziale~\ref{r:losers}.
Rozdzia³~\ref{r:fifak} przedstawia teoriê Fifaka i~wyja¶nia sposób jej
wykorzystania w~implementacji blabalizatora.  W~rozdziale \ref{r:impl}
przedstawiono algorytm blabalizy i~realizuj±cy go program komputerowy.
Ostatni rozdzia³ zawiera przemy¶lenia dotycz±ce mo¿liwego wp³ywu
dostêpno¶ci efektywnej blabalizy numerycznej na rozwój blabalii
fetorycznej.  W~dodatkach umieszczono najciekawszy fragment programu,
przyk³adowe dane i~wyniki dzia³ania programu.

%TODO WSZYSCY WRZUCAJA TUTAJ JAK LECI CO JEST POTRZEBNE
\chapter{Podstawowe pojêcia}\label{r:pojecia}

Pojêciem pierwotnym blabalii fetorycznej jest \emph{blaba}.
Blabali¶ci nie podaj± jego definicji, mówi±c za Ciach-Pfe t-\=am
K\^un (fooistyczny mêdrzec, XIX w. p.n.e.):

\section{Definicje}

\begin{itemize}
\item eenet -- Nazwa w³asna g³ównej aplikacji.
\item Laboratorium EE -- Firma, zg³aszaj±ca zapotrzebowanie na eenet.
\item framework -- Bezpo¶rednio t³umaczony jako zr±b, jest to szkielet do budowy aplikacji
\item wtyczka -- Aplikacja korzystaj±ca z udogodnieñ ¶rodowiska zapewnianego przez eenet.
\item wtyczki przyk³adowe -- Wtyczki, których wykonanie jest przewidziane w ramach wykonania aplikacji eenet.
\item przegl±darka internetowa - Aplikacja instalowana na urz±dzeniu u¿ytkownika umo¿liwiaj±ca wy¶wietlanie stron WWW dostarczanych przez serwer.
\item serwer produkcyjny -- Komputer serwuj±cy stronê WWW, posiada równie¿ w sobie bazê danych aplikacji.
\item serwer developerski/testowy -- Maszyna, która s³u¿y do testowania ka¿dej wersji aplikacji zanim ta trafi na serwer produkcyjny.
\item kopia bezpieczeñstwa -- Informacje, które maj± s³u¿yæ do odtworzenia oryginalnych danych, znajduj±cych siê na serwerze produkcyjnym, w przypadku ich utraty lub uszkodzenia.
\item front-end -- Czê¶æ kodu zapewniaj±ca graficzny i testowy interfejs, jest interpretowana przez przegl±darkê, tzn ¿e dzia³a po stronie u¿ytkownika.
\item back-end -- Czê¶æ kodu dzia³aj±ca po stronie serwera, odpowiada za logikê operacji na danych.
\item aplikacja internetowa -- Aplikacja w formie strony WWW, posiada front-end i back-end.
\item \textit{single page application} -- Podczas u¿ytkowania aplikacji tego typu nigdy nie zostaje prze³adowana strona, dane pomiêdzy klientem a serwerem, s± przesy³ane przy pomocy zapytañ asynchronicznych.
\item UX -- \textit{User experience}, do¶wiadczenia wizualne u¿ytkownika aplikacji internetowej, pozwalaj± okre¶liæ ³atwo¶æ, z jak± korzysta siê z aplikacji
\item DRY -- \textit{Don`t repeat yourself}, regu³a stosowana podczas wytwarzania oprogramowania, zalecaj±ca unikanie ró¿nego rodzaju powtórzeñ wykonywanych przez programistów -- na przyk³ad unikanie tych samych czynno¶ci podczas kompilowania, unikanie wklejania (lub pisania) tych samych (lub bardzo podobnych) fragmentów kodu w wielu miejscach. W przypadku powtarzaj±cego siê kodu ¼ród³owego mo¿na separowaæ powtarzaj±cy siê fragment i jedynie odwo³ywaæ siê do niego.
\item API -- \textit{application programming interface}; tutaj: ¶ci¶le okre¶lony zestaw regu³ i ich opisów, w jaki front-end komunikuje siê z back-endem.
\item REST -- \textit{representational state transfer}, wzorzec architektury oprogramowania standaryzuj±cy regu³y API.
\item GUI -- \textit{graphical user interface} -- interfejs u¿ytkownika; w przypadku naszej aplikacji ca³a komunikacja na linii aplikacja-u¿ytkownik odbywa siê poprzez przegl±darkê internetow±.
\item HTML -- \textit{hypertext markup language} -- deklaratywny jêzyk opisu tre¶ci strony.
\item DOM -- \textit{document object model} -- drzewiasta reprezentacja strony HTML trzymana w pamiêci przegl±darki.
\item CSS -- \textit{cascading stylesheets} -- deklaratywny jêzyk opisu ostylowania elementów HTML.
\item responsywno¶æ -- zdolno¶æ strony do aran¿acji uk³adu tre¶ci w zale¿no¶ci od szeroko¶ci okna przegl±darki b±d¼ urz±dzenia, na którym stronê siê przegl±da.
\item JS -- JavaScript -- jêzyk skryptowy odpowiedzialny za zapytania AJAX i manipulacjê drzewem DOM.
\item AJAX -- \textit{asynchronous JavaScript and XML} -- technika pozwalaj±ca na wykonywanie asynchronicznych zapytañ HTTP do API.
\item ma³e i ¶rednie przedsiêbiorstwa -- Przedsiêbiorstwa które zatrudniaj± od 10 do 250 pracowników.


\end{itemize}

%TODO Robert
\chapter{Opis projektu}\label{r:opis}

%TODO Pawe³
\chapter{Rozwi±zania konkurencyjne}\label{r:konkurencja}
\section{Bitbucket}



%TODO Patryk
\chapter{Zaadaptowane technologie}\label{r:technologie}

\section{Ogólna struktura projektu}

Zdecydowali¶my siê na realizacjê aplikacji internetowej jako interaktywnej strony WWW, co jest naturalnym wyborem patrz±c na to ile narzêdzi obecnie jest dostêpnych w taki sposób. Dodatkowo, za³o¿yli¶my, ¿e nasza strona powinna spe³niaæ wzorzec \textit{single-page application}, który wymusza ¶cis³y podzia³ projektu na API i GUI.

\section{Instalacja projektu}

Back-end eenetu zosta³ stworzony w zrêbie Django. S³u¿y on nastêpuj±cym celom:
\begin{itemize}
\item zapewnia mechanizm sesji zalogowanego u¿ytkownika,
\item po¶redniczy w logowaniu i autoryzacji OAuth,
\item zawiera w sobie koñcówki API, z którymi komunikuje siê GUI.
\end{itemize}

Do uruchomienia aplikacji w trybie dewelopersim (przy ustawionym \verb+DEBUG = True+ w ustawieniach projektu) wystarczy sam kod zapewniany przez Django, mianowicie plik \verb+manage.py+ -- Django zajmuje siê wówczas uruchomieniem serwera HTTP obs³uguj±cego zarówno ¿±dania zwi±zane z API, jak i serwowanie plików statycznych.

Do instalacji produkcyjnej potrzeba jednak po¶rednicz±cego serwera-bramy, który zajmie siê serwowaniem plików statycznych i przekierowaniem odpowiednich ¿±dañ do Django. Zdecydowali¶my siê na serwer nginx z powodu popularno¶ci takiego po³±czenia Django-nginx. Oczywi¶cie zawsze jest mo¿liwo¶æ zmiany serwera-bramy na np. Apache2 czy lighttpd.

Oprócz ustalenia serwera-bramy, nale¿y te¿ w jaki¶ sposób uruchomiæ serwer Django na produkcji. W tym celu u¿yli¶my narzêdzia supervisord, które powoduje, ¿e nie trzeba pisaæ osobnego daemona do procesu Django.

eenet zosta³ przygotowany równie¿ na obs³ugê zadañ asynchronicznych -- czyli takich, które mo¿na zrobiæ osobnym procesem, nie spowalniaj±c renderowania odpowiedzi serwera. Przyk³adem tego mo¿e byæ pobieranie zdjêcia u¿ytkownika -- poniewa¿ autoryzacja u¿ytkowników odbywa siê przy pomocy Google OAuth, aplikacja eenet mo¿e wys³aæ ¿±danie do Google+ API o takowe zdjêcie. W celu wykonania tej funkcjonalno¶ci ponownie zwrócili¶my siê do rozwi±zañ popularnych -- wykorzystali¶my Celery, asynchroniczn± kolejkê zadañ w po³±czeniu z brokerem zadañ Rabbitmq.

Z uwagi na to, ¿e postawienie pe³nego produkcyjnego serwera posiada wiele zale¿no¶ci, sporz±dzili¶my instrukcjê, która prowadzi administratora aplikacji krok po kroku, zaczynaj±c od stawiania instalacji deweloperskiej, poprzez produkcyjn±, a¿ po uruchamianie zadañ asynchronicznych. Znajduje siê ona w pliku \verb+README.md+.

\section{Technologie wykorzystane do stworzenia API}

Kluczow± rolê spe³nia wspomniany wcze¶niej framework Django. Oczekiwali¶my od back-endowego frameworku nastêpuj±cych funkcjonalno¶ci:
\begin{itemize}
\item ³atwy dostêp do bazy danych SQL,
\item sesje u¿ytkowników,
\item interfejs do administracji danymi dla administratora,
\item mechanizm autoryzacji OAuth kompatybilny z Google OAuth,
\item mo¿liwo¶æ ³atwego stworzenia wielu koñcówek API dostêpnych pod ró¿nymi adresami URL,
\item narzucenie ograniczeñ na dostêp do koñcówek w zale¿no¶ci od przywilejów poszczególnych u¿ytkowników.
\end{itemize}

Dostêp do bazy danych, sesje u¿ytkowników i interfejs administracyjny s± zapewnione przez samo Django. Do obs³ugi OAuth zdecydowali¶my siê na \verb+django-social-auth+ (pó¼niej projekt przeistoczy³ siê w \verb+python-social-auth+), natomiast do stworzenia API u¿yli¶my \verb+django-rest-framework+.

Przyjête przez nas rozwi±zania zdecydowanie u³atwi³y pracê z projektem i umo¿liwi³y skupienie siê na logice biznesowej.


\section{Front-end: Javascript}

Koncepcja stron internetowych typu \textit{single-page application} pojawi³a siê w 2003 r. \cite{spa} i pierwsze realizacje zaczê³y pojawiaæ siê w podobnym czasie. Wówczas bardzo niszowe, obecnie staj± siê coraz bardziej popularne, g³ównie za spraw± implementacji w przegl±darkach History API i pojawieniu siê wielu frameworków zapewniaj±cych ³atwe tworzenie \textit{single-page application}, takich jak AngularJS, Backbone czy Ember.

Zdecydowali¶my siê na u¿ycie AngularJS g³ównie ze wzglêdu na popularno¶æ, przy okazji jest to projekt za którym stoj± deweloperzy Google'a, wiêc bardzo prawdopodobne, ¿e bêdzie w dalszym ci±gu rozwijany i wspierany.

AngularJS zapewnia nam wzorzec MVW  -- \textit{model-view-whatever}\footnote{\url{https://plus.google.com/110323587230527980117/posts/aZNVhj355G2}}, stanowi±cy po³±czenie popularnych wzorców MVC -- \textit{model-view-controller} i MVVM -- \textit{model-view-viewmodel}.

Oprócz tego, AngularJS zapewnia:
\begin{itemize}
\item obs³ugê History API -- zmiana URLa w przegl±darce nie powoduje prze³adowania strony od nowa, tylko modyfikuje istniej±cy dokument HTML (¶ci¶lej, drzewo DOM) tak, ¿eby uzyskaæ po¿±dany widok,
\item podzia³ logiczny front-endu na kontrolery, szablony i serwisy,
\item \textit{two-way data binding} - automatyczn± synchronizacjê tre¶ci miêdzy zawarto¶ci± strony (drzewem DOM) a warto¶ciami zmiennych w JavaScripcie,
\item obiektowe podej¶cie do AJAXowej komunikacji z koñcówkami API dziêki serwisowi \verb+$resource+.
\end{itemize}

Jak widaæ, AngularJS spe³nia wiele zadañ. Na nasze potrzeby wystarcza ca³kowicie je¶li chodzi o kwestie ¿±dañ AJAX i manipulacji drzewem DOM. W naszej aplikacji bardzo czêsto pojawia³a siê jednak potrzeba operowania na strukturach danych z poziomu JavaScriptu. Tutaj znale¼li¶my zastosowanie dla biblioteki Lo-Dash, która zawiera zbiór przydatnych funkcji do manipulacji listami i s³ownikami (np. \verb+foreach+, \verb+map+, \verb+reduce+).

\section{Front-end: CSS}

Jêzyk HTML ma wbudowane w siebie podstawowe tagi, które spe³niaj± jasno okre¶lon± rolê w interfejsie (np. \verb+button+, \verb+select+), jednak¿e jest du¿a dowolno¶æ w kwestii wizualnego zaplanowania interfejsu. Zamiast wymy¶laæ strukturê stron HTML ca³kowicie od podstaw i pisaæ w³asne style CSS upiêkszaj±ce domy¶lne formatowanie, skorzystali¶my z biblioteki Bootstrap wykonan± przez firmê Twitter. Dziêki niej stworzyli¶my tak± strukturê HTML strony, któr± mo¿na ³atwo modyfikowaæ.

Dodatkowo, style z Bootstrapa s± responsywne -- zatem nie musieli¶my siê przejmowaæ, ¿e trzeba napisaæ osobny kod HTML i osobne style dla u¿ytkowników smartfonów i tabletów.




%TODO Patryk
\chapter{Zastosowane rozwi±zania}\label{r:rozwiazania}





%TODO Patryk
\chapter{W³o¿ona w projekt praca}\label{r:wlozonapraca}

%TODO Pawe³
\chapter{Osi±gniêcia}\label{r:osiagniecia}
\section{Produkt}
Wtyczki zawarte w aplikacji eenet zgodnie z za³o¿eniem s± u¿ywane przez pracowników firmy Laboratorium EE. ¦wiadczy o ponad 50 zarejestrowanych u¿ytkowników oraz du¿a liczba zg³oszonych przez nich b³êdów wewn±trz aplikacji. Problemy zg³aszane przez u¿ytkowników mia³y ró¿norakie pod³o¿e, poczynaj±c od b³êdów w t³umaczeniach, a koñcz±c na uwagach dotycz±cych zmian w interfacu u¿ytkownika. Ponadto planowane jest dalsze rozwijanie aplikacji przez przysz³ych praktykantów w Laboratorium EE. Co wiêcej eenet bêdzie sprzedawany w pakiecie wraz z innymi produktami firmy przeznaczonymi dla ma³ych i ¶rednich przedsiêbiorstw. 

\section{Tworzenie produktu}
Sposób w jaki powsta³a aplikacja, czas jej wykonania oraz jako¶æ wykonania zadowoli³ klienta na tyle, ¿e wszystkim cz³onkom zespo³u zosta³a zaproponowana dalsza wspó³praca, w nowych projektach.

%TODO Borys ~ zmien nazwe/tresc zgodnie z twoimi oczekiwaniami
\chapter{Wtyczka Zasoby}\label{r:klucz}

%TODO niby all ale i tak bedzie musiala napisac to jedna osoba - nie robert
\chapter{Wykonana praca przez poszczególne osoby w projekcie}\label{r:ktopraca}

%TODO niby all ale i tak bedzie musiala napisac to jedna osoba - nie robert
\chapter{Zawarto¶æ kodu dostarczonego wraz z prac±}\label{r:kod}


\begin{thebibliography}{99}
\addcontentsline{toc}{chapter}{Bibliografia}

\bibitem{angularjs} Dokumentacja AngularJS - \url{https://docs.angularjs.org/api}
\bibitem{lodash} Dokumentacja Lo-dash - \url{http://lodash.com/docs}
\bibitem{jquery} Dokumentacja jQuery - \url{http://lodash.com/docs}
\bibitem{django} Dokumentacja Django - \url{https://docs.djangoproject.com/en/1.6/}
\bibitem{postgres} Dokumentacja PostgreSQL - \url{http://www.postgresql.org/docs/}
\bibitem{spa} Marcio Galli, \textit{Inner-browsing extending the browser navigation paradigm}, \url{https://developer.mozilla.org/en-US/docs/Inner-browsing_extending_the_browser_navigation_paradigm}

\end{thebibliography}

\end{document}


%%% Local Variables:
%%% mode: latex
%%% TeX-master: t
%%% coding: latin-2
%%% End:
